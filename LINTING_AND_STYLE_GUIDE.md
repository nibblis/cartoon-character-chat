### Руководство по стилю кода и статическому анализу

Этот документ описывает основные правила стиля кода и использования инструментов статического анализа (линтера) для поддержания высокого качества и единообразия кодовой базы.

---

### 1. Правила стиля

Мы придерживаемся официального [Kotlin Style Guide](https://kotlinlang.org/docs/coding-conventions.html), но выделяем несколько ключевых моментов:

-   **Именование:**
    -   Классы и объекты: `CamelCase` (например, `AuthViewModel`).
    -   Функции и переменные: `camelCase` (например, `startTimer`).
    -   Константы: `UPPER_SNAKE_CASE` (например, `MAX_LENGTH`).
-   **Форматирование:** Используем стандартные настройки форматера в Android Studio (4 пробела для отступов, максимальная длина строки 100 символов).
-   **Импорты:** Импорты должны быть отсортированы в алфавитном порядке и сгруппированы (например, `android`, `com`, `org`, `app`).
-   **Null-Handling (Обработка Null):
    -   **Избегайте `!!` (not-null assertion):** Оператор `!!` — это "код с запашком". Он может привести к `NullPointerException`. Вместо него следует использовать безопасные вызовы (`?.`), проверки `if (value != null)` или функции области видимости (`let`, `run`).
    -   **Проектируйте Non-Nullable API:** Старайтесь делать параметры функций и возвращаемые значения non-nullable, где это возможно, перекладывая обработку null на вызывающую сторону.

---

### 2. Док-комментарии (KDoc)

Все **публичные** функции, классы и объекты должны иметь KDoc-комментарий.

-   **Зачем?** Документация помогает другим разработчикам (и вам в будущем) быстро понять, что делает код, не читая его реализацию.
-   **Хороший KDoc:**
    -   Кратко описывает назначение элемента.
    -   Использует теги `@param` для описания каждого параметра.
    -   Использует тег `@return` для описания возвращаемого значения.

**Пример:**
```kotlin
/**
 * Отображает главный экран аутентификации.
 *
 * Этот экран позволяет пользователю вводить номер телефона и инициировать процесс входа.
 * Он также обрабатывает состояния загрузки и ошибок, поступающие от [viewModel].
 *
 * @param viewModel ViewModel, управляющая логикой экрана.
 */
@Composable
fun AuthScreen(viewModel: AuthViewModel) { ... }
```

---

### 3. Статический анализ (Lint)

Линтер — наш первый рубеж обороны против багов и нарушений стиля.

-   **Запуск:** Мы используем задачу Gradle для запуска анализа: `./gradlew :app:lintDebug`.
-   **Отчеты:** Отчеты генерируются в `app/build/reports/lint-results-debug.html`. Их нужно просматривать, особенно перед созданием Pull Request.
-   **Политика "чистого" линтера:** Все новые Pull Request'ы должны проходить проверку линтером без **новых** предупреждений (warnings) или ошибок (errors).

**Пример из практики:**
Наш линтер не показал ошибок, но ручной анализ выявил отсутствие KDoc на `AuthScreen` и использование `!!` в `ErrorDialog`. Это подчеркивает, что автоматические инструменты — это помощь, а не замена внимательности разработчика.
